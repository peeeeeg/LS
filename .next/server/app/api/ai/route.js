"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ai/route";
exports.ids = ["app/api/ai/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.ts&appDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.ts&appDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_AIRL_lifestream_CN_app_api_ai_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ai/route.ts */ \"(rsc)/./app/api/ai/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ai/route\",\n        pathname: \"/api/ai\",\n        filename: \"route\",\n        bundlePath: \"app/api/ai/route\"\n    },\n    resolvedPagePath: \"C:\\\\AIRL\\\\lifestream-智能日历 （CN）\\\\app\\\\api\\\\ai\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_AIRL_lifestream_CN_app_api_ai_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/ai/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhaSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWklMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhaSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDQUlSTCU1Q2xpZmVzdHJlYW0tJUU2JTk5JUJBJUU4JTgzJUJEJUU2JTk3JUE1JUU1JThFJTg2JTIwJUVGJUJDJTg4Q04lRUYlQkMlODklNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNBSVJMJTVDbGlmZXN0cmVhbS0lRTYlOTklQkElRTglODMlQkQlRTYlOTclQTUlRTUlOEUlODYlMjAlRUYlQkMlODhDTiVFRiVCQyU4OSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD1zdGFuZGFsb25lJnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ007QUFDbkY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saWZlc3RyZWFtLWNhbGVuZGFyLz9kOGQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXEFJUkxcXFxcbGlmZXN0cmVhbS3mmbrog73ml6XljoYg77yIQ07vvIlcXFxcYXBwXFxcXGFwaVxcXFxhaVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJzdGFuZGFsb25lXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FpL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWlcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FpL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcQUlSTFxcXFxsaWZlc3RyZWFtLeaZuuiDveaXpeWOhiDvvIhDTu+8iVxcXFxhcHBcXFxcYXBpXFxcXGFpXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9haS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.ts&appDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/ai/route.ts":
/*!*****************************!*\
  !*** ./app/api/ai/route.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/types */ \"(rsc)/./types.ts\");\n\n\nconst parseEventType = (typeStr)=>{\n    const normalized = typeStr.toUpperCase();\n    if (normalized in _types__WEBPACK_IMPORTED_MODULE_1__.EventType) {\n        return normalized;\n    }\n    return _types__WEBPACK_IMPORTED_MODULE_1__.EventType.OTHER;\n};\nconst parsePriority = (prioStr)=>{\n    const normalized = prioStr?.toUpperCase();\n    if (normalized in _types__WEBPACK_IMPORTED_MODULE_1__.Priority) {\n        return normalized;\n    }\n    return _types__WEBPACK_IMPORTED_MODULE_1__.Priority.MEDIUM;\n};\nasync function POST(request) {\n    try {\n        const { transcript, currentEvents, viewDate } = await request.json();\n        if (!process.env.DEEPSEEK_API_KEY) {\n            throw new Error(\"API Key missing\");\n        }\n        // Get real-time context for \"today/tomorrow\" calculations\n        const now = new Date();\n        const userTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        // Format: \"2023/10/27 14:30:00\"\n        const userLocalTime = now.toLocaleString(\"zh-CN\", {\n            timeZone: userTimezone,\n            year: \"numeric\",\n            month: \"numeric\",\n            day: \"numeric\",\n            hour: \"numeric\",\n            minute: \"numeric\",\n            second: \"numeric\",\n            hour12: false\n        });\n        // Format the view date (the month the user is looking at) just in case context is needed\n        const viewDateObj = new Date(viewDate);\n        const viewDateStr = viewDateObj.toLocaleDateString(\"zh-CN\", {\n            year: \"numeric\",\n            month: \"long\"\n        });\n        const prompt = `\n      You are an intelligent calendar assistant.\n      \n      CRITICAL CONTEXT:\n      - User's Timezone: ${userTimezone}\n      - Current User Local Time (Right Now): ${userLocalTime}\n      - User is currently viewing the calendar for: ${viewDateStr}\n      \n      Your goal is to parse the user's natural language request and extract calendar events.\n      \n      Rules for Time Calculation:\n      1. Base all relative dates (like \"tomorrow\", \"this afternoon\") on the \"Current User Local Time\" provided above.\n      2. When the user specifies a time (e.g., \"at 2 PM\"), it refers to ${userTimezone} time.\n      3. IMPORTANT: The output 'start' and 'end' must be ISO 8601 strings. You MUST calculate the correct ISO string such that when parsed back in the ${userTimezone}, it matches the user's requested time. \n         - Example: If user is in UTC+8 and says \"3 PM\", the ISO string should end in Z and be equivalent to 07:00 UTC, OR include the offset (e.g. T15:00:00+08:00).\n      4. If no duration is specified, assume 1 hour.\n      \n      Categorization Rules:\n      1. Categorize events into WORK, PERSONAL, URGENT, or OTHER.\n      2. Determine Priority: HIGH (crucial/urgent), MEDIUM (standard), or LOW (optional/flexible). Default to MEDIUM.\n      \n      Language Rules:\n      1. Detect the language of the user's input. \n      2. The 'confirmationMessage' MUST be in the same language as the user's input.\n      \n      Return an empty array for 'eventsToAdd' if the user is just chatting.\n\n      User request: ${transcript}\n\n      Please output only valid JSON in the following format:\n      {\"eventsToAdd\": [{\"title\": \"Event Title\", \"start\": \"2023-10-27T14:30:00+08:00\", \"end\": \"2023-10-27T15:30:00+08:00\", \"description\": \"Event Description\", \"type\": \"WORK\", \"priority\": \"MEDIUM\"}], \"confirmationMessage\": \"Confirmation message in user's language\"}\n    `;\n        // Call DeepSeek API\n        const deepseekResponse = await fetch(\"https://api.deepseek.com/v1/chat/completions\", {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${process.env.DEEPSEEK_API_KEY}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                model: \"deepseek-chat\",\n                messages: [\n                    {\n                        role: \"user\",\n                        content: prompt\n                    }\n                ],\n                temperature: 0.7,\n                response_format: {\n                    type: \"json_object\"\n                }\n            })\n        });\n        if (!deepseekResponse.ok) {\n            const errorData = await deepseekResponse.json().catch(()=>({}));\n            throw new Error(`DeepSeek API error: ${errorData.error?.message || deepseekResponse.statusText}`);\n        }\n        const result = await deepseekResponse.json();\n        // Extract text from the response\n        if (!result.choices || result.choices.length === 0) {\n            throw new Error(\"No choices found in the response\");\n        }\n        const choice = result.choices[0];\n        if (!choice.message || !choice.message.content) {\n            throw new Error(\"No content found in the response\");\n        }\n        const text = choice.message.content;\n        if (!text) {\n            throw new Error(\"No text found in the response\");\n        }\n        // Extract JSON from the response (in case it's wrapped in text)\n        const jsonStart = text.indexOf(\"{\");\n        const jsonEnd = text.lastIndexOf(\"}\") + 1;\n        if (jsonStart === -1 || jsonEnd === 0) {\n            throw new Error(\"Invalid JSON response from AI\");\n        }\n        const jsonStr = text.substring(jsonStart, jsonEnd);\n        const parsedJson = JSON.parse(jsonStr);\n        // Process the AI response\n        const events = parsedJson.eventsToAdd.map((e)=>({\n                title: e.title,\n                start: e.start,\n                end: e.end,\n                description: e.description || \"\",\n                type: parseEventType(e.type),\n                priority: parsePriority(e.priority)\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            events,\n            message: parsedJson.confirmationMessage\n        });\n    } catch (error) {\n        console.error(\"Error processing request:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to process request\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SS9CLE1BQU07UUFDbEI7UUFFQSxNQUFNNkMsT0FBT0QsT0FBT0wsT0FBTyxDQUFDUixPQUFPO1FBQ25DLElBQUksQ0FBQ2MsTUFBTTtZQUNULE1BQU0sSUFBSTdDLE1BQU07UUFDbEI7UUFFQSxnRUFBZ0U7UUFDaEUsTUFBTThDLFlBQVlELEtBQUtFLE9BQU8sQ0FBQztRQUMvQixNQUFNQyxVQUFVSCxLQUFLSSxXQUFXLENBQUMsT0FBTztRQUV4QyxJQUFJSCxjQUFjLENBQUMsS0FBS0UsWUFBWSxHQUFHO1lBQ3JDLE1BQU0sSUFBSWhELE1BQU07UUFDbEI7UUFFQSxNQUFNa0QsVUFBVUwsS0FBS00sU0FBUyxDQUFDTCxXQUFXRTtRQUMxQyxNQUFNSSxhQUFhMUIsS0FBSzJCLEtBQUssQ0FBQ0g7UUFFOUIsMEJBQTBCO1FBQzFCLE1BQU1JLFNBQVNGLFdBQVdHLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLElBQVk7Z0JBQ3JEQyxPQUFPRCxFQUFFQyxLQUFLO2dCQUNkQyxPQUFPRixFQUFFRSxLQUFLO2dCQUNkQyxLQUFLSCxFQUFFRyxHQUFHO2dCQUNWQyxhQUFhSixFQUFFSSxXQUFXLElBQUk7Z0JBQzlCM0IsTUFBTW5ELGVBQWUwRSxFQUFFdkIsSUFBSTtnQkFDM0I0QixVQUFVMUUsY0FBY3FFLEVBQUVLLFFBQVE7WUFDcEM7UUFFQSxPQUFPbEYscURBQVlBLENBQUNnQixJQUFJLENBQUM7WUFDdkIwRDtZQUNBZixTQUFTYSxXQUFXVyxtQkFBbUI7UUFDekM7SUFDRixFQUFFLE9BQU96QixPQUFPO1FBQ2QwQixRQUFRMUIsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTzFELHFEQUFZQSxDQUFDZ0IsSUFBSSxDQUFDO1lBQUUwQyxPQUFPO1FBQTRCLEdBQUc7WUFBRTJCLFFBQVE7UUFBSTtJQUNqRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGlmZXN0cmVhbS1jYWxlbmRhci8uL2FwcC9hcGkvYWkvcm91dGUudHM/MGIyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBDYWxlbmRhckV2ZW50LCBFdmVudFR5cGUsIFByaW9yaXR5IH0gZnJvbSBcIkAvdHlwZXNcIjtcblxuY29uc3QgcGFyc2VFdmVudFR5cGUgPSAodHlwZVN0cjogc3RyaW5nKTogRXZlbnRUeXBlID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHR5cGVTdHIudG9VcHBlckNhc2UoKTtcbiAgaWYgKG5vcm1hbGl6ZWQgaW4gRXZlbnRUeXBlKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQgYXMgRXZlbnRUeXBlO1xuICB9XG4gIHJldHVybiBFdmVudFR5cGUuT1RIRVI7XG59O1xuXG5jb25zdCBwYXJzZVByaW9yaXR5ID0gKHByaW9TdHI6IHN0cmluZyk6IFByaW9yaXR5ID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHByaW9TdHI/LnRvVXBwZXJDYXNlKCk7XG4gIGlmIChub3JtYWxpemVkIGluIFByaW9yaXR5KSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWQgYXMgUHJpb3JpdHk7XG4gIH1cbiAgcmV0dXJuIFByaW9yaXR5Lk1FRElVTTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHRyYW5zY3JpcHQsIGN1cnJlbnRFdmVudHMsIHZpZXdEYXRlIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBcbiAgICBpZiAoIXByb2Nlc3MuZW52LkRFRVBTRUVLX0FQSV9LRVkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkFQSSBLZXkgbWlzc2luZ1wiKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgcmVhbC10aW1lIGNvbnRleHQgZm9yIFwidG9kYXkvdG9tb3Jyb3dcIiBjYWxjdWxhdGlvbnNcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHVzZXJUaW1lem9uZSA9IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZTtcbiAgICAvLyBGb3JtYXQ6IFwiMjAyMy8xMC8yNyAxNDozMDowMFwiXG4gICAgY29uc3QgdXNlckxvY2FsVGltZSA9IG5vdy50b0xvY2FsZVN0cmluZygnemgtQ04nLCB7IFxuICAgICAgdGltZVpvbmU6IHVzZXJUaW1lem9uZSwgXG4gICAgICB5ZWFyOiAnbnVtZXJpYycsIFxuICAgICAgbW9udGg6ICdudW1lcmljJywgXG4gICAgICBkYXk6ICdudW1lcmljJywgXG4gICAgICBob3VyOiAnbnVtZXJpYycsIFxuICAgICAgbWludXRlOiAnbnVtZXJpYycsIFxuICAgICAgc2Vjb25kOiAnbnVtZXJpYycsXG4gICAgICBob3VyMTI6IGZhbHNlIFxuICAgIH0pO1xuICAgIFxuICAgIC8vIEZvcm1hdCB0aGUgdmlldyBkYXRlICh0aGUgbW9udGggdGhlIHVzZXIgaXMgbG9va2luZyBhdCkganVzdCBpbiBjYXNlIGNvbnRleHQgaXMgbmVlZGVkXG4gICAgY29uc3Qgdmlld0RhdGVPYmogPSBuZXcgRGF0ZSh2aWV3RGF0ZSk7XG4gICAgY29uc3Qgdmlld0RhdGVTdHIgPSB2aWV3RGF0ZU9iai50b0xvY2FsZURhdGVTdHJpbmcoJ3poLUNOJywgeyB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnbG9uZycgfSk7XG5cbiAgICBjb25zdCBwcm9tcHQgPSBgXG4gICAgICBZb3UgYXJlIGFuIGludGVsbGlnZW50IGNhbGVuZGFyIGFzc2lzdGFudC5cbiAgICAgIFxuICAgICAgQ1JJVElDQUwgQ09OVEVYVDpcbiAgICAgIC0gVXNlcidzIFRpbWV6b25lOiAke3VzZXJUaW1lem9uZX1cbiAgICAgIC0gQ3VycmVudCBVc2VyIExvY2FsIFRpbWUgKFJpZ2h0IE5vdyk6ICR7dXNlckxvY2FsVGltZX1cbiAgICAgIC0gVXNlciBpcyBjdXJyZW50bHkgdmlld2luZyB0aGUgY2FsZW5kYXIgZm9yOiAke3ZpZXdEYXRlU3RyfVxuICAgICAgXG4gICAgICBZb3VyIGdvYWwgaXMgdG8gcGFyc2UgdGhlIHVzZXIncyBuYXR1cmFsIGxhbmd1YWdlIHJlcXVlc3QgYW5kIGV4dHJhY3QgY2FsZW5kYXIgZXZlbnRzLlxuICAgICAgXG4gICAgICBSdWxlcyBmb3IgVGltZSBDYWxjdWxhdGlvbjpcbiAgICAgIDEuIEJhc2UgYWxsIHJlbGF0aXZlIGRhdGVzIChsaWtlIFwidG9tb3Jyb3dcIiwgXCJ0aGlzIGFmdGVybm9vblwiKSBvbiB0aGUgXCJDdXJyZW50IFVzZXIgTG9jYWwgVGltZVwiIHByb3ZpZGVkIGFib3ZlLlxuICAgICAgMi4gV2hlbiB0aGUgdXNlciBzcGVjaWZpZXMgYSB0aW1lIChlLmcuLCBcImF0IDIgUE1cIiksIGl0IHJlZmVycyB0byAke3VzZXJUaW1lem9uZX0gdGltZS5cbiAgICAgIDMuIElNUE9SVEFOVDogVGhlIG91dHB1dCAnc3RhcnQnIGFuZCAnZW5kJyBtdXN0IGJlIElTTyA4NjAxIHN0cmluZ3MuIFlvdSBNVVNUIGNhbGN1bGF0ZSB0aGUgY29ycmVjdCBJU08gc3RyaW5nIHN1Y2ggdGhhdCB3aGVuIHBhcnNlZCBiYWNrIGluIHRoZSAke3VzZXJUaW1lem9uZX0sIGl0IG1hdGNoZXMgdGhlIHVzZXIncyByZXF1ZXN0ZWQgdGltZS4gXG4gICAgICAgICAtIEV4YW1wbGU6IElmIHVzZXIgaXMgaW4gVVRDKzggYW5kIHNheXMgXCIzIFBNXCIsIHRoZSBJU08gc3RyaW5nIHNob3VsZCBlbmQgaW4gWiBhbmQgYmUgZXF1aXZhbGVudCB0byAwNzowMCBVVEMsIE9SIGluY2x1ZGUgdGhlIG9mZnNldCAoZS5nLiBUMTU6MDA6MDArMDg6MDApLlxuICAgICAgNC4gSWYgbm8gZHVyYXRpb24gaXMgc3BlY2lmaWVkLCBhc3N1bWUgMSBob3VyLlxuICAgICAgXG4gICAgICBDYXRlZ29yaXphdGlvbiBSdWxlczpcbiAgICAgIDEuIENhdGVnb3JpemUgZXZlbnRzIGludG8gV09SSywgUEVSU09OQUwsIFVSR0VOVCwgb3IgT1RIRVIuXG4gICAgICAyLiBEZXRlcm1pbmUgUHJpb3JpdHk6IEhJR0ggKGNydWNpYWwvdXJnZW50KSwgTUVESVVNIChzdGFuZGFyZCksIG9yIExPVyAob3B0aW9uYWwvZmxleGlibGUpLiBEZWZhdWx0IHRvIE1FRElVTS5cbiAgICAgIFxuICAgICAgTGFuZ3VhZ2UgUnVsZXM6XG4gICAgICAxLiBEZXRlY3QgdGhlIGxhbmd1YWdlIG9mIHRoZSB1c2VyJ3MgaW5wdXQuIFxuICAgICAgMi4gVGhlICdjb25maXJtYXRpb25NZXNzYWdlJyBNVVNUIGJlIGluIHRoZSBzYW1lIGxhbmd1YWdlIGFzIHRoZSB1c2VyJ3MgaW5wdXQuXG4gICAgICBcbiAgICAgIFJldHVybiBhbiBlbXB0eSBhcnJheSBmb3IgJ2V2ZW50c1RvQWRkJyBpZiB0aGUgdXNlciBpcyBqdXN0IGNoYXR0aW5nLlxuXG4gICAgICBVc2VyIHJlcXVlc3Q6ICR7dHJhbnNjcmlwdH1cblxuICAgICAgUGxlYXNlIG91dHB1dCBvbmx5IHZhbGlkIEpTT04gaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG4gICAgICB7XCJldmVudHNUb0FkZFwiOiBbe1widGl0bGVcIjogXCJFdmVudCBUaXRsZVwiLCBcInN0YXJ0XCI6IFwiMjAyMy0xMC0yN1QxNDozMDowMCswODowMFwiLCBcImVuZFwiOiBcIjIwMjMtMTAtMjdUMTU6MzA6MDArMDg6MDBcIiwgXCJkZXNjcmlwdGlvblwiOiBcIkV2ZW50IERlc2NyaXB0aW9uXCIsIFwidHlwZVwiOiBcIldPUktcIiwgXCJwcmlvcml0eVwiOiBcIk1FRElVTVwifV0sIFwiY29uZmlybWF0aW9uTWVzc2FnZVwiOiBcIkNvbmZpcm1hdGlvbiBtZXNzYWdlIGluIHVzZXIncyBsYW5ndWFnZVwifVxuICAgIGA7XG5cbiAgICAvLyBDYWxsIERlZXBTZWVrIEFQSVxuICAgIGNvbnN0IGRlZXBzZWVrUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkuZGVlcHNlZWsuY29tL3YxL2NoYXQvY29tcGxldGlvbnMnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7cHJvY2Vzcy5lbnYuREVFUFNFRUtfQVBJX0tFWX1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBtb2RlbDogJ2RlZXBzZWVrLWNoYXQnLFxuICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQgfVxuICAgICAgICBdLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogJ2pzb25fb2JqZWN0JyB9XG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgaWYgKCFkZWVwc2Vla1Jlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCBkZWVwc2Vla1Jlc3BvbnNlLmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGVlcFNlZWsgQVBJIGVycm9yOiAke2Vycm9yRGF0YS5lcnJvcj8ubWVzc2FnZSB8fCBkZWVwc2Vla1Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVlcHNlZWtSZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgLy8gRXh0cmFjdCB0ZXh0IGZyb20gdGhlIHJlc3BvbnNlXG4gICAgaWYgKCFyZXN1bHQuY2hvaWNlcyB8fCByZXN1bHQuY2hvaWNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNob2ljZXMgZm91bmQgaW4gdGhlIHJlc3BvbnNlXCIpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjaG9pY2UgPSByZXN1bHQuY2hvaWNlc1swXTtcbiAgICBpZiAoIWNob2ljZS5tZXNzYWdlIHx8ICFjaG9pY2UubWVzc2FnZS5jb250ZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZW50IGZvdW5kIGluIHRoZSByZXNwb25zZVwiKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdGV4dCA9IGNob2ljZS5tZXNzYWdlLmNvbnRlbnQ7XG4gICAgaWYgKCF0ZXh0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB0ZXh0IGZvdW5kIGluIHRoZSByZXNwb25zZVwiKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRXh0cmFjdCBKU09OIGZyb20gdGhlIHJlc3BvbnNlIChpbiBjYXNlIGl0J3Mgd3JhcHBlZCBpbiB0ZXh0KVxuICAgIGNvbnN0IGpzb25TdGFydCA9IHRleHQuaW5kZXhPZigneycpO1xuICAgIGNvbnN0IGpzb25FbmQgPSB0ZXh0Lmxhc3RJbmRleE9mKCd9JykgKyAxO1xuICAgIFxuICAgIGlmIChqc29uU3RhcnQgPT09IC0xIHx8IGpzb25FbmQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSlNPTiByZXNwb25zZSBmcm9tIEFJXCIpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBqc29uU3RyID0gdGV4dC5zdWJzdHJpbmcoanNvblN0YXJ0LCBqc29uRW5kKTtcbiAgICBjb25zdCBwYXJzZWRKc29uID0gSlNPTi5wYXJzZShqc29uU3RyKTtcbiAgICBcbiAgICAvLyBQcm9jZXNzIHRoZSBBSSByZXNwb25zZVxuICAgIGNvbnN0IGV2ZW50cyA9IHBhcnNlZEpzb24uZXZlbnRzVG9BZGQubWFwKChlOiBhbnkpID0+ICh7XG4gICAgICB0aXRsZTogZS50aXRsZSxcbiAgICAgIHN0YXJ0OiBlLnN0YXJ0LFxuICAgICAgZW5kOiBlLmVuZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBlLmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICB0eXBlOiBwYXJzZUV2ZW50VHlwZShlLnR5cGUpLFxuICAgICAgcHJpb3JpdHk6IHBhcnNlUHJpb3JpdHkoZS5wcmlvcml0eSlcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgZXZlbnRzLFxuICAgICAgbWVzc2FnZTogcGFyc2VkSnNvbi5jb25maXJtYXRpb25NZXNzYWdlXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByb2Nlc3NpbmcgcmVxdWVzdDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkZhaWxlZCB0byBwcm9jZXNzIHJlcXVlc3RcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiRXZlbnRUeXBlIiwiUHJpb3JpdHkiLCJwYXJzZUV2ZW50VHlwZSIsInR5cGVTdHIiLCJub3JtYWxpemVkIiwidG9VcHBlckNhc2UiLCJPVEhFUiIsInBhcnNlUHJpb3JpdHkiLCJwcmlvU3RyIiwiTUVESVVNIiwiUE9TVCIsInJlcXVlc3QiLCJ0cmFuc2NyaXB0IiwiY3VycmVudEV2ZW50cyIsInZpZXdEYXRlIiwianNvbiIsInByb2Nlc3MiLCJlbnYiLCJERUVQU0VFS19BUElfS0VZIiwiRXJyb3IiLCJub3ciLCJEYXRlIiwidXNlclRpbWV6b25lIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwicmVzb2x2ZWRPcHRpb25zIiwidGltZVpvbmUiLCJ1c2VyTG9jYWxUaW1lIiwidG9Mb2NhbGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwiaG91cjEyIiwidmlld0RhdGVPYmoiLCJ2aWV3RGF0ZVN0ciIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInByb21wdCIsImRlZXBzZWVrUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRlbXBlcmF0dXJlIiwicmVzcG9uc2VfZm9ybWF0IiwidHlwZSIsIm9rIiwiZXJyb3JEYXRhIiwiY2F0Y2giLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXNUZXh0IiwicmVzdWx0IiwiY2hvaWNlcyIsImxlbmd0aCIsImNob2ljZSIsInRleHQiLCJqc29uU3RhcnQiLCJpbmRleE9mIiwianNvbkVuZCIsImxhc3RJbmRleE9mIiwianNvblN0ciIsInN1YnN0cmluZyIsInBhcnNlZEpzb24iLCJwYXJzZSIsImV2ZW50cyIsImV2ZW50c1RvQWRkIiwibWFwIiwiZSIsInRpdGxlIiwic3RhcnQiLCJlbmQiLCJkZXNjcmlwdGlvbiIsInByaW9yaXR5IiwiY29uZmlybWF0aW9uTWVzc2FnZSIsImNvbnNvbGUiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ai/route.ts\n");

/***/ }),

/***/ "(rsc)/./types.ts":
/*!******************!*\
  !*** ./types.ts ***!
  \******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventType: () => (/* binding */ EventType),\n/* harmony export */   Priority: () => (/* binding */ Priority)\n/* harmony export */ });\nvar EventType;\n(function(EventType) {\n    EventType[\"WORK\"] = \"WORK\";\n    EventType[\"PERSONAL\"] = \"PERSONAL\";\n    EventType[\"URGENT\"] = \"URGENT\";\n    EventType[\"OTHER\"] = \"OTHER\";\n})(EventType || (EventType = {}));\nvar Priority;\n(function(Priority) {\n    Priority[\"LOW\"] = \"LOW\";\n    Priority[\"MEDIUM\"] = \"MEDIUM\";\n    Priority[\"HIGH\"] = \"HIGH\";\n})(Priority || (Priority = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi90eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7VUFBWUE7Ozs7O0dBQUFBLGNBQUFBOztVQU9BQzs7OztHQUFBQSxhQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2xpZmVzdHJlYW0tY2FsZW5kYXIvLi90eXBlcy50cz81NjUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEV2ZW50VHlwZSB7XG4gIFdPUksgPSAnV09SSycsXG4gIFBFUlNPTkFMID0gJ1BFUlNPTkFMJyxcbiAgVVJHRU5UID0gJ1VSR0VOVCcsXG4gIE9USEVSID0gJ09USEVSJ1xufVxuXG5leHBvcnQgZW51bSBQcmlvcml0eSB7XG4gIExPVyA9ICdMT1cnLFxuICBNRURJVU0gPSAnTUVESVVNJyxcbiAgSElHSCA9ICdISUdIJ1xufVxuXG5leHBvcnQgdHlwZSBDYWxlbmRhclZpZXdNb2RlID0gJ21vbnRoJyB8ICd3ZWVrJyB8ICdkYXknO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhbGVuZGFyRXZlbnQge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgc3RhcnQ6IHN0cmluZzsgLy8gSVNPIFN0cmluZ1xuICBlbmQ6IHN0cmluZzsgLy8gSVNPIFN0cmluZ1xuICB0eXBlOiBFdmVudFR5cGU7XG4gIHByaW9yaXR5OiBQcmlvcml0eTtcbiAgaXNDb21wbGV0ZWQ6IGJvb2xlYW47XG4gIHJlbWluZGVyRW5hYmxlZDogYm9vbGVhbjtcbiAgcmVtaW5kZXJNaW51dGVzOiBudW1iZXI7XG4gIG5vdGlmaWVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGF0TWVzc2FnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFpUmVzcG9uc2VTY2hlbWEge1xuICBldmVudHNUb0FkZDoge1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgc3RhcnQ6IHN0cmluZztcbiAgICBlbmQ6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBwcmlvcml0eTogc3RyaW5nO1xuICB9W107XG4gIGNvbmZpcm1hdGlvbk1lc3NhZ2U6IHN0cmluZztcbn0iXSwibmFtZXMiOlsiRXZlbnRUeXBlIiwiUHJpb3JpdHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./types.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fai%2Froute&page=%2Fapi%2Fai%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fai%2Froute.ts&appDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAIRL%5Clifestream-%E6%99%BA%E8%83%BD%E6%97%A5%E5%8E%86%20%EF%BC%88CN%EF%BC%89&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();